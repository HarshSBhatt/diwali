<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Diwali</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: radial-gradient(ellipse at 50% 0%, #1a0033 0%, #0a0015 40%, #000000 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
            position: relative;
            width: 100%;
            height: 100vh;
        }

        #canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .container {
            text-align: center;
            background: rgba(20, 10, 40, 0.9);
            padding: 50px 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(255, 215, 0, 0.3);
            max-width: 700px;
            position: relative;
            z-index: 10;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .greeting-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .diya {
            font-size: 3rem;
            position: relative;
        }

        .diya-lamp {
            display: inline-block;
        }

        .diya-flame {
            position: absolute;
            font-size: 1.5rem;
            animation: flame-flicker 0.6s infinite;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
        }

        .diya:nth-child(1) .diya-flame {
            animation-delay: 0s;
        }

        .diya:nth-child(3) .diya-flame {
            animation-delay: 0.3s;
        }

        @keyframes flame-flicker {
            0%, 100% { opacity: 1; transform: translateX(-50%) scale(1); }
            50% { opacity: 0.5; transform: translateX(-50%) scale(0.85); }
        }

        .greeting {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, #ffd700, #ff6b35, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0;
        }

        .personalization {
            font-size: 1.4rem;
            color: #ffd700;
            margin-bottom: 30px;
            min-height: 40px;
        }

        .quote-container {
            background: rgba(50, 20, 80, 0.6);
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            border: 2px solid rgba(255, 215, 0, 0.2);
        }

        .quote {
            font-size: 1.15rem;
            color: #ffeb99;
            font-style: italic;
            line-height: 1.8;
        }

        .closing-message {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 2px solid rgba(255, 215, 0, 0.3);
            line-height: 1.8;
        }

        .closing-message .prefix {
            font-size: 0.95rem;
            color: #ffeb99;
            display: block;
            margin-bottom: 5px;
        }

        .closing-message .names {
            font-size: 1.3rem;
            font-weight: bold;
            background: linear-gradient(135deg, #ffd700, #ff6b35);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: block;
        }

        .closing-message .emoji {
            font-size: 1.3rem;
            margin-left: 8px;
        }

        @media (max-width: 600px) {
            .container {
                padding: 35px 25px;
            }

            .greeting {
                font-size: 2.2rem;
            }

            .personalization {
                font-size: 1.1rem;
            }

            .quote {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>

    <div class="container">
        <div class="greeting-container">
            <div class="diya">
                <span class="diya-lamp">ðŸª”</span>
                <span class="diya-flame">âœ¨</span>
            </div>
            <h1 class="greeting">Happy Diwali</h1>
            <div class="diya">
                <span class="diya-lamp">ðŸª”</span>
                <span class="diya-flame">âœ¨</span>
            </div>
        </div>
        
        <div class="personalization" id="personalization"></div>
        
        <div class="quote-container">
            <div class="quote" id="quote"></div>
        </div>

        <div class="closing-message">
            <span class="prefix">Best wishes from</span>
            <span class="names">Jash and Puja</span>
        </div>
    </div>

    <script>
        const quotes = [
            "May the light of Diwali illuminate your path and bring eternal joy to your life. As you celebrate this festival of lights, may wisdom guide your steps and prosperity bless your endeavors with success and happiness.",
            "Diwali celebrates the victory of light over darkness and good over evil. May this sacred festival kindle the flame of hope in your heart and inspire you to spread love, compassion, and positivity to everyone around you.",
            "On this auspicious occasion, may your life be filled with happiness and prosperity forever. Let the divine light of Diwali dispel all darkness from your heart and fill your home with peace, joy, and abundance.",
            "The festival of lights brings with it a promise of new beginnings and endless possibilities. May this Diwali mark the start of a glorious chapter in your life filled with success, health, and cherished memories with loved ones.",
            "Let the glow of Diwali brighten your dreams and fulfill your aspirations with unwavering determination. May the festival bless you with courage to overcome challenges and wisdom to make the right choices in life.",
            "May the sparkle of Diwali fill your heart with warmth, your home with love, and your life with infinite blessings. This festival brings families together to celebrate the eternal triumph of righteousness and the beauty of togetherness."
        ];

        // Get random quote
        const randomIndex = Math.floor(Math.random() * quotes.length);
        document.getElementById('quote').textContent = quotes[randomIndex];

        // Detect person name from URL
        const params = new URLSearchParams(window.location.search);
        const name = params.get('name');
        if (name) {
            document.getElementById('personalization').textContent = `Dear ${decodeURIComponent(name)},`;
        }

        // Fireworks Animation
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        const colors = ['#ffd700', '#ff6b35', '#ff1493', '#00ff00', '#00ffff', '#ff69b4', '#ffa500', '#00fa9a'];

        class Particle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.vx = (Math.random() - 0.5) * 10;
                this.vy = (Math.random() - 0.5) * 10 - 2;
                this.life = 1;
                this.decay = Math.random() * 0.012 + 0.008;
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.size = Math.random() * 3 + 1.5;
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.vy += 0.15;
                this.life -= this.decay;
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = Math.max(0, this.life);
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }

        function burstFireworks(x, y) {
            for (let i = 0; i < 60; i++) {
                particles.push(new Particle(x, y));
            }
        }

        function animate() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            for (let i = particles.length - 1; i >= 0; i--) {
                particles[i].update();
                particles[i].draw();

                if (particles[i].life <= 0) {
                    particles.splice(i, 1);
                }
            }

            requestAnimationFrame(animate);
        }

        animate();

        // Create fireworks at random intervals
        setInterval(() => {
            const x = Math.random() * canvas.width;
            const y = Math.random() * canvas.height * 0.6;
            burstFireworks(x, y);
        }, 1000);

        // Create initial fireworks
        for (let i = 0; i < 2; i++) {
            setTimeout(() => {
                burstFireworks(Math.random() * canvas.width, Math.random() * canvas.height * 0.6);
            }, i * 500);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>
